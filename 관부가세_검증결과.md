# 관부가세 계산 로직 검증 결과

## 홈페이지 기준 계산법

성신컴퍼니 홈페이지에 명시된 관부가세 계산법:

1. **과세가격 = 상품 총 결제금액 + 관세청 고시환율 + 과세운임**
2. **관세 = 과세가격 × 구입한 품목의 관세율**
3. **부가세 = (과세가격 + 관세) × 0.1**

---

## 현재 코드 계산법

```javascript
// 1단계: 물건 가격 계산
const itemPrice = purchasePrice * exchangeRate; // 상품 총 결제금액 (원화)

// 2단계: 배송비 계산 (과세 운임)
const shippingCost = calculateShippingCost(weight); // 과세운임

// 3단계: 과세표준 계산
const taxableBase = itemPrice + shippingCost; // 과세가격

// 4단계: 관세 계산
const duty = taxableBase * dutyRate; // 관세

// 5단계: 부가세 계산
const vat = (taxableBase + duty) * vatRate; // 부가세 (0.10 = 10%)
```

---

## 검증 결과

### ✅ 계산 공식 일치

| 항목 | 홈페이지 | 현재 코드 | 일치 여부 |
|------|----------|-----------|----------|
| 과세가격 | 상품 총 결제금액 + 관세청 고시환율 + 과세운임 | itemPrice + shippingCost | ⚠️ 부분 일치 |
| 관세 | 과세가격 × 관세율 | taxableBase × dutyRate | ✅ 일치 |
| 부가세 | (과세가격 + 관세) × 0.1 | (taxableBase + duty) × vatRate | ✅ 일치 |

### ⚠️ 주의사항

**"관세청 고시환율"의 의미:**
- 홈페이지 설명에서 "과세가격 = 상품 총 결제금액 + 관세청 고시환율 + 과세운임"이라고 되어 있으나, 이는 설명이 부정확할 수 있습니다.
- 실제로는:
  - **상품 총 결제금액** = 매입 원가(위안) × 환율(원) = 이미 원화로 환산된 금액
  - **관세청 고시환율** = 환율 자체가 아니라, 환율을 적용한 결과물
  - **과세운임** = 배송비

**현재 코드의 해석:**
- `itemPrice = purchasePrice * exchangeRate` = 상품 총 결제금액 (환율 적용 완료)
- `shippingCost` = 과세운임
- 따라서 `taxableBase = itemPrice + shippingCost`는 올바릅니다.

**결론:** 계산 로직은 올바르지만, 홈페이지 설명이 다소 혼란스러울 수 있습니다.

---

## 카테고리별 관세율 비교

### 홈페이지 관세율표 (일부)

| 품목 | 관세율 | 부가세 |
|------|--------|--------|
| 의류/수영복/속옷 | 13% | 10% |
| 스카프/넥타이/장갑 | 13% | 10% |
| 액세서리 | 8% | 10% |
| 신발류 | 13% | 10% |
| 가방/핸드백 | 8% | 10% |
| 화장품/향수 | 8% | 10% |
| 핸드폰 | 0% | 10% |
| 노트북/PDA/컴퓨터 부품 | 0% | 10% |
| 플라스틱가공품 | 6.5% | 10% |
| 가전(오디오/비디오) | 8% | 10% |
| 가구(정품/수입/대체구분 전) | 0% | 10% |
| 건강보조식품 | 8% | 10% |
| 식품(과자/시리얼/젤리 등) | 8% | 10% |

### 현재 코드의 카테고리

| 대분류 | 소분류 | 관세율 | 부가세율 | 홈페이지와 일치 여부 |
|--------|--------|--------|----------|---------------------|
| 의류/패션 | 일반 의류 (티셔츠/바지/아우터) | 13% | 10% | ✅ 일치 |
| 의류/패션 | 신발/운동화 | 13% | 10% | ✅ 일치 |
| 의류/패션 | 가방/지갑/액세서리 | 8% | 10% | ✅ 일치 |
| 가전/디지털 | 컴퓨터/노트북/태블릿 | 0% | 10% | ✅ 일치 |
| 가전/디지털 | 스마트워치/이어폰 | 0% | 10% | ✅ 일치 |
| 가전/디지털 | 소형가전/조명/LED | 8% | 10% | ✅ 일치 |
| 생활/주방/가구 | 주방식기/조리도구 | 8% | 10% | ✅ 일치 |
| 생활/주방/가구 | 플라스틱 정리/수납함 | 6.5% | 10% | ✅ 일치 |
| 생활/주방/가구 | 침구/커튼/러그 | 13% | 10% | ✅ 일치 |
| 생활/주방/가구 | 목재 가구 | 0% | 10% | ✅ 일치 |
| 문구/완구/취미 | 일반 완구/장난감 | 8% | 10% | ✅ 일치 |
| 문구/완구/취미 | 문구류/캠핑/스포츠 | 8% | 10% | ✅ 일치 |
| 반려동물 | 반려동물 의류 | 13% | 10% | ✅ 일치 |
| 반려동물 | 반려동물 용품/장난감 | 8% | 10% | ✅ 일치 |

### ⚠️ 누락된 카테고리

홈페이지에는 있지만 현재 코드에 없는 카테고리들:
- 화장품/향수 (8%)
- 선글라스 (8%)
- 시계/보석/귀금속 (8%)
- CD/MP3/DVD/스피커 (8%)
- 캠핑장비 (8%)
- 디지털 카메라 (8%)
- 골프채 (8%)
- 텐트 (8%)
- 커피머신 (8%)
- 전동휠/킥보드 (8%)
- 유모차 (8%)
- 자전거(부품) (8%)
- 공기청정기 (8%)
- 건강보조식품 (8%)
- 식품(과자/시리얼/젤리 등) (8%)
- 그 외 (8%)

---

## 최종 검증 결과

### ✅ 올바른 부분

1. **계산 공식**: 관세와 부가세 계산 공식이 홈페이지와 일치합니다.
2. **카테고리별 관세율**: 현재 포함된 카테고리의 관세율은 모두 정확합니다.
3. **부가세율**: 모든 품목에 10% 부가세가 적용되는 것이 맞습니다.

### ⚠️ 개선 필요 사항

1. **카테고리 확장**: 홈페이지에 있는 더 많은 카테고리를 추가할 수 있습니다.
2. **설명 개선**: "관세청 고시환율" 부분의 설명을 더 명확하게 할 수 있습니다.

### 📝 권장 사항

1. **카테고리 추가**: 사용자가 자주 찾는 카테고리들을 추가로 포함시키는 것을 권장합니다.
2. **설명 보완**: 계산 로직 설명에서 "상품 총 결제금액 = 매입 원가 × 환율"임을 명확히 표시하는 것이 좋습니다.

---

## 결론

**현재 코드의 계산 로직은 홈페이지 기준과 일치합니다.** ✅

다만, 카테고리 범위를 확장하면 더 많은 사용자에게 유용할 것입니다.
